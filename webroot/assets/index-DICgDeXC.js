import{H as D,F as W,g as $}from"./fade-DXKTELhO.js";import"./i18n-BqJdyLAD.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))a(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const _ of u.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&a(_)}).observe(document,{childList:!0,subtree:!0});function c(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(d){if(d.ep)return;d.ep=!0;const u=c(d);fetch(d.href,u)}})();let F=0;function V(e){return`${e}_callback_${Date.now()}_${F++}`}function v(e,s){return typeof s>"u"&&(s={}),new Promise((c,a)=>{const d=V("exec");window[d]=(_,g,h)=>{c({errno:_,stdout:g,stderr:h}),u(d)};function u(_){delete window[_]}try{ksu.exec(e,JSON.stringify(s),d)}catch(_){a(_),u(d)}})}function n(e){ksu.toast(e)}const j="/assets/blue-8Pd85PrK.png",R="/assets/brown-DkMF-zd4.png",q="/assets/cyan-CxxU9VUc.png",J="/assets/cyan1-BWTE1JdY.png",Y="/assets/orange-Dz5Wr5v6.png",G="/assets/orange1-CeH2ZIyG.png",X="/assets/yellow-Bmr_vY2u.png",K="/assets/green-BwBzMX7_.png",Z="/assets/lime-DPDNUj7v.png",Q="/assets/pink-BsJVk9ad.png",ee="/assets/purple-b3Qaozit.png",te="/assets/red-DsgSinuJ.png",se="/assets/white-BOZMyur9.png",oe="/assets/black-CWwxUpmx.png",f=document.getElementById("backgroundCanvas"),p=f.getContext("2d");function T(){f.width=window.innerWidth,f.height=window.innerHeight,S()}const I=[],B=[],ne=100,A=[j,R,R,q,J,Y,G,X,K,Z,Q,ee,te,se,oe];A.length;function ae(){I.length=0;for(let e=0;e<ne;e++)I.push({x:Math.random()*f.width,y:Math.random()*f.height,radius:Math.random()*2,speed:Math.random()*.5})}function ie(e,s){return[...e].sort(()=>.5-Math.random()).slice(0,s)}function S(){B.length=0,ie(A,6).forEach(s=>{const c=new Image;c.src=s,c.onload=()=>{B.push({img:c,x:Math.random()*f.width,y:Math.random()*f.height,width:50,height:60,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,speedX:(Math.random()-.5)*1.5,speedY:(Math.random()-.5)*1.5})}})}function N(){p.clearRect(0,0,f.width,f.height),p.fillStyle="white",I.forEach(e=>{p.beginPath(),p.arc(e.x,e.y,e.radius,0,Math.PI*2),p.fill(),e.y+=e.speed,e.y>f.height&&(e.y=0,e.x=Math.random()*f.width)}),B.forEach(e=>{p.save(),p.translate(e.x+e.width/2,e.y+e.height/2),p.rotate(e.rotation),p.drawImage(e.img,-e.width/2,-e.height/2,e.width,e.height),p.restore(),e.x+=e.speedX,e.y+=e.speedY,e.rotation+=e.rotationSpeed,e.x>f.width&&(e.x=-e.width),e.x+e.width<0&&(e.x=f.width),e.y>f.height&&(e.y=-e.height),e.y+e.height<0&&(e.y=f.height)}),requestAnimationFrame(N)}window.addEventListener("resize",T);T();ae();S();N();const L="/data/adb/ksu/susfs4ksu",ce="/data/adb/modules/susfs4ksu",o="/data/adb/susfs4ksu",k="/data/adb/ksu/bin/ksu_susfs",b=E(await t(`cat ${o}/config.sh`));var C=await t(`grep version= ${ce}/module.prop | cut -d '=' -f 2`),y=parseFloat(C.replace(/[v.]/g,""));const de=document.getElementById("susfs_version");de.innerHTML=C;var ue=await t(`[ -s ${L}/logs/susfs.log ] && echo false || echo true`),w=E(await t(`cat ${L}/susfs_stats.txt`));await t(`${k} show variant`);ue=="true"&&(w=E(await t(`cat ${L}/susfs_stats1.txt`)),n("/data/adb/ksu/susfs4ksu/logs/susfs.log is empty/missing."),n("Fallback to stats executed from the module."));function E(e){return e.split(`
`).filter(c=>c.includes("=")).reduce((c,a)=>{const[d,u]=a.split("=").map(_=>_.trim());return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?c[d]=u.substring(1,u.length-1):c[d]=isNaN(Number(u))?u:Number(u),c},{})}document.getElementById("sus_path").innerHTML=w.sus_path;document.getElementById("sus_mount").innerHTML=w.sus_mount;document.getElementById("try_umount").innerHTML=w.try_umount;document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-");var M=b.sus_su;document.getElementById("sus_su_152");const _e=document.getElementById("sus_su_154"),re=document.getElementById("sus_su_142"),le=document.getElementById("sus_su_1");M==-1?(sus_su.removeAttribute("checked"),sus_su.setAttribute("disabled",""),enable_sus_su.removeAttribute("checked"),enable_sus_su.setAttribute("disabled","")):(y>=150&&M==1&&le.classList.remove("hidden"),re.classList.remove("hidden"),z(b));y>=154&&(_e.classList.remove("hidden"),O());const H=new D.Core({transitions:{default:W}});H.on("NAVIGATE_IN",async({to:e,from:s,trigger:c,location:a})=>{window.i18n&&(window.i18n.getCurrentLanguage(),window.i18n.applyTranslationsToNewContent(e.view))});H.on("NAVIGATE_END",async({to:e,from:s,trigger:c,location:a})=>{const d=E(await t(`cat ${o}/config.sh`));var u=window.location.pathname;u==="/index.html"?(console.log("in index"),P(d),U(d),y>=154&&O(),z(d)):u==="/custom.html"&&(fe(d),he(),ge(),me())});async function t(e){const{errno:s,stdout:c,stderr:a}=await v(e);if(s!=0){n(`stderr: ${a}`);return}else return c}async function z(e){const s=document.getElementById("sus_su"),c=document.getElementById("enable_sus_su");var a=e;a.sus_su==1||a.sus_su==2?s.addEventListener("click",function(){a.sus_su_active==1||a.sus_su_active==2?(console.log("false"),a.sus_su_active=0,t(`${k} sus_su 0`),v(`sed -i 's/sus_su_active=.*/sus_su_active=0/' ${o}/config.sh`),n("sus su off no need to reboot"),s.removeAttribute("checked")):(console.log("true"),y>=150?(a.sus_su_active=2,t(`${k} sus_su 2`),v(`sed -i 's/sus_su_active=.*/sus_su_active=2/' ${o}/config.sh`)):(a.sus_su_active=1,t(`${k} sus_su 1`),v(`sed -i 's/sus_su_active=.*/sus_su_active=1/' ${o}/config.sh`)),n("sus su on no need to reboot"),s.setAttribute("checked","checked"))}):(s.checked=!1,c.checked=!1,s.setAttribute("disabled","")),a.sus_su_active==0&&(s.checked=!1),c.addEventListener("click",async function(){(a.sus_su==1||a.sus_su==2)&&c.checked=="checked"?(console.log("false"),a.sus_su=0,n("Reboot to take effect"),t(`sed -i 's/sus_su=.*/sus_su=0/' ${o}/config.sh`),v(`sed -i 's/sus_su_active=.*/sus_su_active=0/' ${o}/config.sh`),c.checked=!1,s.setAttribute("disabled","")):(console.log("true"),n("Reboot to take effect"),y>=150?(a.sus_su=2,t(`sed -i 's/sus_su=.*/sus_su=2/' ${o}/config.sh`)):(a.sus_su=1,t(`sed -i 's/sus_su=.*/sus_su=1/' ${o}/config.sh`)),c.checked="checked",s.removeAttribute("disabled",""))})}async function O(){const e=document.getElementById("auto_mount"),s=document.getElementById("auto_bind"),c=document.getElementById("auto_umount_bind"),a=document.getElementById("try_umount_zygote");var d=await t("[ -f data/adb/susfs_no_auto_add_sus_ksu_default_mount ] && echo true || echo false"),u=await t("[ -f data/adb/susfs_no_auto_add_sus_bind_mount ] && echo true || echo false"),_=await t("[ -f data/adb/susfs_no_auto_add_try_umount_for_bind_mount ] && echo true || echo false"),g=await t("[ -f data/adb/susfs_umount_for_zygote_system_process ] && echo true || echo false");d=="true"&&(e.checked=!1),u=="true"&&(s.checked=!1),_=="true"&&(c.checked=!1),g=="false"&&(a.checked=!1),e.addEventListener("click",async function(){d=="true"?(await t("rm -f data/adb/susfs_no_auto_add_sus_ksu_default_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_sus_ksu_default_mount"),n("Reboot to take effect"))}),s.addEventListener("click",async function(){u=="true"?(await t("rm -f data/adb/susfs_no_auto_add_sus_bind_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_sus_bind_mount"),n("Reboot to take effect"))}),c.addEventListener("click",async function(){_=="true"?(await t("rm -f data/adb/susfs_no_auto_add_try_umount_for_bind_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_try_umount_for_bind_mount"),n("Reboot to take effect"))}),a.addEventListener("click",async function(){g=="true"?(await t("rm -f data/adb/susfs_umount_for_zygote_system_process"),n("Reboot to take effect")):(await t("touch data/adb/susfs_umount_for_zygote_system_process"),n("Reboot to take effect"))})}async function P(e){document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-");const s=document.getElementById("set_uname"),c=document.getElementById("uname-spoof-on-boot"),a=document.getElementById("uname-spoof-on-postfsdata"),d=document.getElementById("uname-at-postfs"),u=document.getElementById("confirm_modal"),_=document.getElementById("modal_confirm"),g=document.getElementById("modal_cancel");document.getElementById("modal_message");const h=document.querySelector("main");var r=document.getElementById("sus_uname"),l=document.getElementById("sus_uname_build");const i=e;i.spoof_uname>0?(c.checked="checked",d.classList.remove("hidden")):(c.checked=!1,d.classList.add("hidden")),i.spoof_uname>1?a.checked="checked":a.checked=!1,s.addEventListener("click",async function(){r=document.getElementById("sus_uname"),l=document.getElementById("sus_uname_build"),r.value.includes(" ")?n("Spaces are not allowed in the input!"):r.value==""&&l.value==""?(console.log("default kernel version"),t(`${k} set_uname 'default' 'default'`),await t(`sed -i 's/kernel_version=.*/kernel_version="default"/' ${o}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="default"/' ${o}/config.sh`),document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-"),s.blur()):(console.log(`sets to ${r.value}`),l.value==""?(t(`${k} set_uname '${r.value}' 'default'`),await t(`sed -i 's/kernel_version=.*/kernel_version="${r.value}"/' ${o}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="default"/' ${o}/config.sh`)):r.value==""?(t(`${k} set_uname 'default' '${l.value}'`),await t(`sed -i 's/kernel_version=.*/kernel_version="default"/' ${o}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="${l.value}"/' ${o}/config.sh`)):(t(`${k} set_uname '${r.value}' '${l.value}'`),await t(`sed -i 's/kernel_version=.*/kernel_version="${r.value}"/' ${o}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="${l.value}"/' ${o}/config.sh`)),document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-"),r.value="",l.value="",s.blur())}),c.addEventListener("change",async function(m){const x=document.getElementById("uname-at-postfs");m.preventDefault(),i.spoof_uname<1?(await t(`sed -i 's/spoof_uname=.*/spoof_uname=1/' ${o}/config.sh`),i.spoof_uname=1,n("Reboot to take effect"),x.classList.remove("hidden")):(await t(`sed -i 's/spoof_uname=.*/spoof_uname=0/' ${o}/config.sh`),i.spoof_uname=0,a.checked=!1,n("Reboot to take effect"),x.classList.add("hidden"))}),a.addEventListener("change",async function(m){m.preventDefault(),i.spoof_uname<2?u.showModal():await t(`sed -i 's/spoof_uname=.*/spoof_uname=1/' ${o}/config.sh`)}),_.addEventListener("click",async function(){const m=document.getElementById("uname-spoof-on-postfsdata");m.checked="checked",await t(`sed -i 's/spoof_uname=.*/spoof_uname=2/' ${o}/config.sh`),i.spoof_uname=2,n("Reboot to take effect"),u.close()}),g.addEventListener("click",async function(){const m=document.getElementById("uname-spoof-on-postfsdata");m.checked=!1,u.close()}),r.addEventListener("focus",()=>{h.style.paddingBottom="350px",r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),r.addEventListener("blur",m=>{setTimeout(()=>{document.activeElement!==l&&$.to(h,{duration:.5,paddingBottom:"0px",ease:"power1.out"})},0)}),l.addEventListener("focus",()=>{h.style.paddingBottom="350px",l.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),l.addEventListener("blur",m=>{setTimeout(()=>{document.activeElement!==r&&$.to(h,{duration:.5,paddingBottom:"0px",ease:"power1.out"})},0)})}async function U(e){var s=document.getElementById("susfs_log");e.susfs_log===1?s.setAttribute("checked","checked"):s.removeAttribute("checked"),s.addEventListener("click",async function(){s.hasAttribute("checked")?(console.log("false"),n("Reboot to take effect"),await t(`sed -i 's/susfs_log=1/susfs_log=0/' ${o}/config.sh`),s.removeAttribute("checked")):(console.log("true"),n("Reboot to take effect"),await t(`sed -i 's/susfs_log=0/susfs_log=1/' ${o}/config.sh`),s.setAttribute("checked","checked"))})}async function fe(e){const s=document.getElementById("hide_custom_rom"),c=document.getElementById("more_custom_rom"),a=document.getElementById("hide_gapps"),d=document.getElementById("hide_revanced"),u=document.getElementById("spoof_cmdline"),_=document.getElementById("hide_ksu_loop"),g=document.getElementById("force_hide_lsposed"),h=document.getElementById("hide_vendor_sepolicy"),r=document.getElementById("hide_compat_matrix"),l=document.getElementById("fake_service_list"),i=e;i.hide_cusrom==!0?(s.checked="checked",c.classList.remove("hidden")):(s.checked=!1,c.classList.add("hidden")),i.hide_vendor_sepolicy==!0?h.checked="checked":h.checked=!1,i.hide_compat_matrix==!0?r.checked="checked":r.checked=!1,i.fake_service_list==!0?l.checked="checked":l.checked=!1,i.hide_gapps==!0?a.checked="checked":a.checked=!1,i.hide_revanced==!0?d.checked="checked":d.checked=!1,i.spoof_cmdline==!0?u.checked="checked":u.checked=!1,i.hide_loops==!0?_.checked="checked":_.checked=!1,i.force_hide_lsposed==!0?g.checked="checked":g.checked=!1,s.addEventListener("click",async function(){const m=document.getElementById("more_custom_rom");i.hide_cusrom==!0?(t(`sed -i 's/hide_cusrom=1/hide_cusrom=0/' ${o}/config.sh`),t(`sed -i 's/hide_vendor_sepolicy=1/hide_vendor_sepolicy=0/' ${o}/config.sh`),t(`sed -i 's/hide_compat_matrix=1/hide_compat_matrix=0/' ${o}/config.sh`),t(`sed -i 's/fake_service_list=1/fake_service_list=0/' ${o}/config.sh`),i.hide_cusrom=!1,h.checked=!1,r.checked=!1,l.checked=!1,m.classList.add("hidden"),n("Reboot to take effect")):(t(`sed -i 's/hide_cusrom=0/hide_cusrom=1/' ${o}/config.sh`),i.hide_cusrom=!0,m.classList.remove("hidden"),n("Reboot to take effect"))}),h.addEventListener("click",async function(){i.hide_vendor_sepolicy==!0?(t(`sed -i 's/hide_vendor_sepolicy=1/hide_vendor_sepolicy=0/' ${o}/config.sh`),i.hide_vendor_sepolicy=!1,n("Reboot to take effect")):(t(`sed -i 's/hide_vendor_sepolicy=0/hide_vendor_sepolicy=1/' ${o}/config.sh`),i.hide_vendor_sepolicy=!0,n("Reboot to take effect"))}),r.addEventListener("click",async function(){i.hide_compat_matrix==!0?(t(`sed -i 's/hide_compat_matrix=1/hide_compat_matrix=0/' ${o}/config.sh`),i.hide_compat_matrix=!1,n("Reboot to take effect")):(t(`sed -i 's/hide_compat_matrix=0/hide_compat_matrix=1/' ${o}/config.sh`),i.hide_compat_matrix=!0,n("Reboot to take effect"))}),l.addEventListener("click",async function(){i.fake_service_list==!0?(t(`sed -i 's/fake_service_list=1/fake_service_list=0/' ${o}/config.sh`),i.fake_service_list=!1,n("Reboot to take effect")):(t(`sed -i 's/fake_service_list=0/fake_service_list=1/' ${o}/config.sh`),i.fake_service_list=!0,n("Reboot to take effect"))}),a.addEventListener("click",async function(){i.hide_gapps==!0?(await t(`sed -i 's/hide_gapps=1/hide_gapps=0/' ${o}/config.sh`),i.hide_gapps=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_gapps=0/hide_gapps=1/' ${o}/config.sh`),i.hide_gapps==!0,n("Reboot to take effect"))}),d.addEventListener("click",async function(){i.hide_revanced==!0?(await t(`sed -i 's/hide_revanced=1/hide_revanced=0/' ${o}/config.sh`),i.hide_revanced=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_revanced=0/hide_revanced=1/' ${o}/config.sh`),i.hide_revanced=!0,n("Reboot to take effect"))}),u.addEventListener("click",async function(){i.spoof_cmdline==!0?(await t(`sed -i 's/spoof_cmdline=1/spoof_cmdline=0/' ${o}/config.sh`),i.spoof_cmdline=!1,n("Reboot to take effect")):(await t(`sed -i 's/spoof_cmdline=0/spoof_cmdline=1/' ${o}/config.sh`),i.spoof_cmdline=!0,n("Reboot to take effect"))}),_.addEventListener("click",async function(){i.hide_loops==!0?(await t(`sed -i 's/hide_loops=1/hide_loops=0/' ${o}/config.sh`),i.hide_loops=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_loops=0/hide_loops=1/' ${o}/config.sh`),i.hide_loops=!0,n("Reboot to take effect"))}),g.addEventListener("click",async function(){i.force_hide_lsposed==!0?(await t(`sed -i 's/force_hide_lsposed=1/force_hide_lsposed=0/' ${o}/config.sh`),i.force_hide_lsposed=!1,n("Reboot to take effect")):(await t(`sed -i 's/force_hide_lsposed=0/force_hide_lsposed=1/' ${o}/config.sh`),i.force_hide_lsposed=!0,n("Reboot to take effect"))})}async function me(){const e=document.getElementById("load_sus_path"),s=document.getElementById("custom_sus_path"),c=document.getElementById("save_sus_path");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${o}/sus_path.txt`)}),c.addEventListener("click",async()=>{var a=s.value;a==""?n("please press load first!"):(await t(`echo '${a}' > ${o}/sus_path.txt`),n("Custom SUS PATH saved!"),n("Reboot to take effect"))})}async function he(){const e=document.getElementById("load_sus_mount"),s=document.getElementById("custom_sus_mount"),c=document.getElementById("save_sus_mount");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${o}/sus_mount.txt`)}),c.addEventListener("click",async()=>{var a=s.value;a==""?n("please press load first!"):(await t(`echo '${a}' > ${o}/sus_mount.txt`),n("Custom SUS MOUNT saved!"),n("Reboot to take effect"))})}async function ge(){const e=document.getElementById("load_try_umount"),s=document.getElementById("custom_try_umount"),c=document.getElementById("save_try_umount"),a=document.querySelector("main");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${o}/try_umount.txt`)}),c.addEventListener("click",async()=>{var d=s.value;d==""?n("please press load first!"):(await t(`echo '${d}' > ${o}/try_umount.txt`),n("Custom SUS MOUNT saved!"),n("Reboot to take effect"))}),s.addEventListener("focus",()=>{a.style.paddingBottom="300px",s.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),s.addEventListener("blur",()=>{$.to(a,{duration:.5,paddingBottom:"0px",ease:"power1.out"})})}P(b);U(b);
