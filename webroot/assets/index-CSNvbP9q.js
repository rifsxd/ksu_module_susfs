import{H as D,F as W,g as B}from"./fade-DXKTELhO.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const _ of u.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&i(_)}).observe(document,{childList:!0,subtree:!0});function d(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(c){if(c.ep)return;c.ep=!0;const u=d(c);fetch(c.href,u)}})();let F=0;function V(e){return`${e}_callback_${Date.now()}_${F++}`}function y(e,s){return typeof s>"u"&&(s={}),new Promise((d,i)=>{const c=V("exec");window[c]=(_,f,k)=>{d({errno:_,stdout:f,stderr:k}),u(c)};function u(_){delete window[_]}try{ksu.exec(e,JSON.stringify(s),c)}catch(_){i(_),u(c)}})}function n(e){ksu.toast(e)}const j="/assets/blue-8Pd85PrK.png",M="/assets/brown-DkMF-zd4.png",q="/assets/cyan-CxxU9VUc.png",J="/assets/cyan1-BWTE1JdY.png",Y="/assets/orange-Dz5Wr5v6.png",X="/assets/orange1-CeH2ZIyG.png",G="/assets/yellow-Bmr_vY2u.png",K="/assets/green-BwBzMX7_.png",Z="/assets/lime-DPDNUj7v.png",Q="/assets/pink-BsJVk9ad.png",ee="/assets/purple-b3Qaozit.png",te="/assets/red-DsgSinuJ.png",se="/assets/white-BOZMyur9.png",oe="/assets/black-CWwxUpmx.png",l=document.getElementById("backgroundCanvas"),h=l.getContext("2d");function A(){l.width=window.innerWidth,l.height=window.innerHeight,C()}const I=[],L=[],ne=100,T=[j,M,M,q,J,Y,X,G,K,Z,Q,ee,te,se,oe];T.length;function ae(){I.length=0;for(let e=0;e<ne;e++)I.push({x:Math.random()*l.width,y:Math.random()*l.height,radius:Math.random()*2,speed:Math.random()*.5})}function ie(e,s){return[...e].sort(()=>.5-Math.random()).slice(0,s)}function C(){L.length=0,ie(T,6).forEach(s=>{const d=new Image;d.src=s,d.onload=()=>{L.push({img:d,x:Math.random()*l.width,y:Math.random()*l.height,width:50,height:60,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*.02,speedX:(Math.random()-.5)*1.5,speedY:(Math.random()-.5)*1.5})}})}function H(){h.clearRect(0,0,l.width,l.height),h.fillStyle="white",I.forEach(e=>{h.beginPath(),h.arc(e.x,e.y,e.radius,0,Math.PI*2),h.fill(),e.y+=e.speed,e.y>l.height&&(e.y=0,e.x=Math.random()*l.width)}),L.forEach(e=>{h.save(),h.translate(e.x+e.width/2,e.y+e.height/2),h.rotate(e.rotation),h.drawImage(e.img,-e.width/2,-e.height/2,e.width,e.height),h.restore(),e.x+=e.speedX,e.y+=e.speedY,e.rotation+=e.rotationSpeed,e.x>l.width&&(e.x=-e.width),e.x+e.width<0&&(e.x=l.width),e.y>l.height&&(e.y=-e.height),e.y+e.height<0&&(e.y=l.height)}),requestAnimationFrame(H)}window.addEventListener("resize",A);A();ae();C();H();const x="/data/adb/ksu/susfs4ksu",ce="/data/adb/modules/susfs4ksu",a="/data/adb/susfs4ksu",v="/data/adb/ksu/bin/ksu_susfs",w=$(await t(`cat ${a}/config.sh`));var N=await t(`grep version= ${ce}/module.prop | cut -d '=' -f 2`),b=parseFloat(N.replace(/[v.]/g,""));const de=document.getElementById("susfs_version");de.innerHTML=N;var ue=await t(`[ -s ${x}/logs/susfs.log ] && echo false || echo true`),E=$(await t(`cat ${x}/susfs_stats.txt`));await t(`${v} show variant`);ue=="true"&&(E=$(await t(`cat ${x}/susfs_stats1.txt`)),n("susfs_stats.txt is empty/missing. Showed Stats from module script"));function $(e){return e.split(`
`).filter(d=>d.includes("=")).reduce((d,i)=>{const[c,u]=i.split("=").map(_=>_.trim());return u.startsWith("'")&&u.endsWith("'")||u.startsWith('"')&&u.endsWith('"')?d[c]=u.substring(1,u.length-1):d[c]=isNaN(Number(u))?u:Number(u),d},{})}document.getElementById("sus_path").innerHTML=E.sus_path;document.getElementById("sus_mount").innerHTML=E.sus_mount;document.getElementById("try_umount").innerHTML=E.try_umount;document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-");var S=w.sus_su;document.getElementById("sus_su_152");const _e=document.getElementById("sus_su_154"),re=document.getElementById("sus_su_142"),le=document.getElementById("sus_su_1");S==-1?(sus_su.removeAttribute("checked"),sus_su.setAttribute("disabled",""),enable_sus_su.removeAttribute("checked"),enable_sus_su.setAttribute("disabled","")):(b>=150&&S==1&&le.classList.remove("hidden"),re.classList.remove("hidden"),z(w));b>=154&&(_e.classList.remove("hidden"),O());const fe=new D.Core({transitions:{default:W}});fe.on("NAVIGATE_END",async({to:e,from:s,trigger:d,location:i})=>{const c=$(await t(`cat ${a}/config.sh`));var u=window.location.pathname;u==="/index.html"?(console.log("in index"),P(c),U(c),b>=154&&O(),z(c)):u==="/custom.html"&&(me(c),ge(),pe(),he())});async function t(e){const{errno:s,stdout:d,stderr:i}=await y(e);if(s!=0){n(`stderr: ${i}`);return}else return d}async function z(e){const s=document.getElementById("sus_su"),d=document.getElementById("enable_sus_su");var i=e;i.sus_su==1||i.sus_su==2?s.addEventListener("click",function(){i.sus_su_active==1||i.sus_su_active==2?(console.log("false"),i.sus_su_active=0,t(`${v} sus_su 0`),y(`sed -i 's/sus_su_active=.*/sus_su_active=0/' ${a}/config.sh`),n("sus su off no need to reboot"),s.removeAttribute("checked")):(console.log("true"),b>=150?(i.sus_su_active=2,t(`${v} sus_su 2`),y(`sed -i 's/sus_su_active=.*/sus_su_active=2/' ${a}/config.sh`)):(i.sus_su_active=1,t(`${v} sus_su 1`),y(`sed -i 's/sus_su_active=.*/sus_su_active=1/' ${a}/config.sh`)),n("sus su on no need to reboot"),s.setAttribute("checked","checked"))}):(s.checked=!1,d.checked=!1,s.setAttribute("disabled","")),i.sus_su_active==0&&(s.checked=!1),d.addEventListener("click",async function(){(i.sus_su==1||i.sus_su==2)&&d.checked=="checked"?(console.log("false"),i.sus_su=0,n("Reboot to take effect"),t(`sed -i 's/sus_su=.*/sus_su=0/' ${a}/config.sh`),y(`sed -i 's/sus_su_active=.*/sus_su_active=0/' ${a}/config.sh`),d.checked=!1,s.setAttribute("disabled","")):(console.log("true"),n("Reboot to take effect"),b>=150?(i.sus_su=2,t(`sed -i 's/sus_su=.*/sus_su=2/' ${a}/config.sh`)):(i.sus_su=1,t(`sed -i 's/sus_su=.*/sus_su=1/' ${a}/config.sh`)),d.checked="checked",s.removeAttribute("disabled",""))})}async function O(){const e=document.getElementById("auto_mount"),s=document.getElementById("auto_bind"),d=document.getElementById("auto_umount_bind"),i=document.getElementById("try_umount_zygote");var c=await t("[ -f data/adb/susfs_no_auto_add_sus_ksu_default_mount ] && echo true || echo false"),u=await t("[ -f data/adb/susfs_no_auto_add_sus_bind_mount ] && echo true || echo false"),_=await t("[ -f data/adb/susfs_no_auto_add_try_umount_for_bind_mount ] && echo true || echo false"),f=await t("[ -f data/adb/susfs_umount_for_zygote_system_process ] && echo true || echo false");c=="true"&&(e.checked=!1),u=="true"&&(s.checked=!1),_=="true"&&(d.checked=!1),f=="false"&&(i.checked=!1),e.addEventListener("click",async function(){c=="true"?(await t("rm -f data/adb/susfs_no_auto_add_sus_ksu_default_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_sus_ksu_default_mount"),n("Reboot to take effect"))}),s.addEventListener("click",async function(){u=="true"?(await t("rm -f data/adb/susfs_no_auto_add_sus_bind_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_sus_bind_mount"),n("Reboot to take effect"))}),d.addEventListener("click",async function(){_=="true"?(await t("rm -f data/adb/susfs_no_auto_add_try_umount_for_bind_mount"),n("Reboot to take effect")):(await t("touch data/adb/susfs_no_auto_add_try_umount_for_bind_mount"),n("Reboot to take effect"))}),i.addEventListener("click",async function(){f=="true"?(await t("rm -f data/adb/susfs_umount_for_zygote_system_process"),n("Reboot to take effect")):(await t("touch data/adb/susfs_umount_for_zygote_system_process"),n("Reboot to take effect"))})}async function P(e){document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-");const s=document.getElementById("set_uname"),d=document.getElementById("uname-spoof-on-boot"),i=document.getElementById("uname-spoof-on-postfsdata"),c=document.getElementById("uname-at-postfs"),u=document.getElementById("confirm_modal"),_=document.getElementById("modal_confirm"),f=document.getElementById("modal_cancel"),k=document.getElementById("modal_message"),p=document.querySelector("main");var r=document.getElementById("sus_uname"),o=document.getElementById("sus_uname_build");const m=e;m.spoof_uname>0?(d.checked="checked",c.classList.remove("hidden")):(d.checked=!1,c.classList.add("hidden")),m.spoof_uname>1?i.checked="checked":i.checked=!1,s.addEventListener("click",async function(){r=document.getElementById("sus_uname"),o=document.getElementById("sus_uname_build"),r.value.includes(" ")?n("Spaces are not allowed in the input!"):r.value==""&&o.value==""?(console.log("default kernel version"),t(`${v} set_uname 'default' 'default'`),await t(`sed -i 's/kernel_version=.*/kernel_version="default"/' ${a}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="default"/' ${a}/config.sh`),document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-"),s.blur()):(console.log(`sets to ${r.value}`),o.value==""?(t(`${v} set_uname '${r.value}' 'default'`),await t(`sed -i 's/kernel_version=.*/kernel_version="${r.value}"/' ${a}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="default"/' ${a}/config.sh`)):r.value==""?(t(`${v} set_uname 'default' '${o.value}'`),await t(`sed -i 's/kernel_version=.*/kernel_version="default"/' ${a}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="${o.value}"/' ${a}/config.sh`)):(t(`${v} set_uname '${r.value}' '${o.value}'`),await t(`sed -i 's/kernel_version=.*/kernel_version="${r.value}"/' ${a}/config.sh`),await t(`sed -i 's/kernel_build=.*/kernel_build="${o.value}"/' ${a}/config.sh`)),document.getElementById("kernel_version").innerHTML=await t("uname -a | cut -d' ' -f3-"),r.value="",o.value="",s.blur())}),d.addEventListener("change",async function(g){const R=document.getElementById("uname-at-postfs");g.preventDefault(),m.spoof_uname<1?(await t(`sed -i 's/spoof_uname=.*/spoof_uname=1/' ${a}/config.sh`),m.spoof_uname=1,n("Reboot to take effect"),R.classList.remove("hidden")):(await t(`sed -i 's/spoof_uname=.*/spoof_uname=0/' ${a}/config.sh`),m.spoof_uname=0,i.checked=!1,n("Reboot to take effect"),R.classList.add("hidden"))}),i.addEventListener("change",async function(g){g.preventDefault(),m.spoof_uname<2?(k.textContent="Setting this on may cause a bootloop or instability if spoofed incorrectly. Are you sure you want to enable post-fs-data execution?",u.showModal()):await t(`sed -i 's/spoof_uname=.*/spoof_uname=1/' ${a}/config.sh`)}),_.addEventListener("click",async function(){const g=document.getElementById("uname-spoof-on-postfsdata");g.checked="checked",await t(`sed -i 's/spoof_uname=.*/spoof_uname=2/' ${a}/config.sh`),m.spoof_uname=2,n("Reboot to take effect"),u.close()}),f.addEventListener("click",async function(){const g=document.getElementById("uname-spoof-on-postfsdata");g.checked=!1,u.close()}),r.addEventListener("focus",()=>{p.style.paddingBottom="350px",r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),r.addEventListener("blur",g=>{setTimeout(()=>{document.activeElement!==o&&B.to(p,{duration:.5,paddingBottom:"0px",ease:"power1.out"})},0)}),o.addEventListener("focus",()=>{p.style.paddingBottom="350px",o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),o.addEventListener("blur",g=>{setTimeout(()=>{document.activeElement!==r&&B.to(p,{duration:.5,paddingBottom:"0px",ease:"power1.out"})},0)})}async function U(e){var s=document.getElementById("susfs_log");e.susfs_log===1?s.setAttribute("checked","checked"):s.removeAttribute("checked"),s.addEventListener("click",async function(){s.hasAttribute("checked")?(console.log("false"),n("Reboot to take effect"),await t(`sed -i 's/susfs_log=1/susfs_log=0/' ${a}/config.sh`),s.removeAttribute("checked")):(console.log("true"),n("Reboot to take effect"),await t(`sed -i 's/susfs_log=0/susfs_log=1/' ${a}/config.sh`),s.setAttribute("checked","checked"))})}async function me(e){const s=document.getElementById("hide_custom_rom"),d=document.getElementById("more_custom_rom"),i=document.getElementById("hide_gapps"),c=document.getElementById("hide_revanced"),u=document.getElementById("spoof_cmdline"),_=document.getElementById("hide_ksu_loop"),f=document.getElementById("force_hide_lsposed"),k=document.getElementById("hide_vendor_sepolicy"),p=document.getElementById("hide_compat_matrix"),r=document.getElementById("fake_service_list"),o=e;o.hide_cusrom==!0?(s.checked="checked",d.classList.remove("hidden")):(s.checked=!1,d.classList.add("hidden")),o.hide_vendor_sepolicy==!0?k.checked="checked":k.checked=!1,o.hide_compat_matrix==!0?p.checked="checked":p.checked=!1,o.fake_service_list==!0?r.checked="checked":r.checked=!1,o.hide_gapps==!0?i.checked="checked":i.checked=!1,o.hide_revanced==!0?c.checked="checked":c.checked=!1,o.spoof_cmdline==!0?u.checked="checked":u.checked=!1,o.hide_loops==!0?_.checked="checked":_.checked=!1,o.force_hide_lsposed==!0?f.checked="checked":f.checked=!1,s.addEventListener("click",async function(){const m=document.getElementById("more_custom_rom");o.hide_cusrom==!0?(t(`sed -i 's/hide_cusrom=1/hide_cusrom=0/' ${a}/config.sh`),o.hide_cusrom=!1,m.classList.add("hidden"),n("Reboot to take effect")):(t(`sed -i 's/hide_cusrom=0/hide_cusrom=1/' ${a}/config.sh`),o.hide_cusrom=!0,m.classList.remove("hidden"),n("Reboot to take effect"))}),k.addEventListener("click",async function(){o.hide_vendor_sepolicy==!0?(t(`sed -i 's/hide_vendor_sepolicy=1/hide_vendor_sepolicy=0/' ${a}/config.sh`),o.hide_vendor_sepolicy=!1,n("Reboot to take effect")):(t(`sed -i 's/hide_vendor_sepolicy=0/hide_vendor_sepolicy=1/' ${a}/config.sh`),o.hide_vendor_sepolicy=!0,n("Reboot to take effect"))}),p.addEventListener("click",async function(){o.hide_compat_matrix==!0?(t(`sed -i 's/hide_compat_matrix=1/hide_compat_matrix=0/' ${a}/config.sh`),o.hide_compat_matrix=!1,n("Reboot to take effect")):(t(`sed -i 's/hide_compat_matrix=0/hide_compat_matrix=1/' ${a}/config.sh`),o.hide_compat_matrix=!0,n("Reboot to take effect"))}),r.addEventListener("click",async function(){o.fake_service_list==!0?(t(`sed -i 's/fake_service_list=1/fake_service_list=0/' ${a}/config.sh`),o.fake_service_list=!1,n("Reboot to take effect")):(t(`sed -i 's/fake_service_list=0/fake_service_list=1/' ${a}/config.sh`),o.fake_service_list=!0,n("Reboot to take effect"))}),i.addEventListener("click",async function(){o.hide_gapps==!0?(await t(`sed -i 's/hide_gapps=1/hide_gapps=0/' ${a}/config.sh`),o.hide_gapps=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_gapps=0/hide_gapps=1/' ${a}/config.sh`),o.hide_gapps==!0,n("Reboot to take effect"))}),c.addEventListener("click",async function(){o.hide_revanced==!0?(await t(`sed -i 's/hide_revanced=1/hide_revanced=0/' ${a}/config.sh`),o.hide_revanced=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_revanced=0/hide_revanced=1/' ${a}/config.sh`),o.hide_revanced=!0,n("Reboot to take effect"))}),u.addEventListener("click",async function(){o.spoof_cmdline==!0?(await t(`sed -i 's/spoof_cmdline=1/spoof_cmdline=0/' ${a}/config.sh`),o.spoof_cmdline=!1,n("Reboot to take effect")):(await t(`sed -i 's/spoof_cmdline=0/spoof_cmdline=1/' ${a}/config.sh`),o.spoof_cmdline=!0,n("Reboot to take effect"))}),_.addEventListener("click",async function(){o.hide_loops==!0?(await t(`sed -i 's/hide_loops=1/hide_loops=0/' ${a}/config.sh`),o.hide_loops=!1,n("Reboot to take effect")):(await t(`sed -i 's/hide_loops=0/hide_loops=1/' ${a}/config.sh`),o.hide_loops=!0,n("Reboot to take effect"))}),f.addEventListener("click",async function(){o.force_hide_lsposed==!0?(await t(`sed -i 's/force_hide_lsposed=1/force_hide_lsposed=0/' ${a}/config.sh`),o.force_hide_lsposed=!1,n("Reboot to take effect")):(await t(`sed -i 's/force_hide_lsposed=0/force_hide_lsposed=1/' ${a}/config.sh`),o.force_hide_lsposed=!0,n("Reboot to take effect"))})}async function he(){const e=document.getElementById("load_sus_path"),s=document.getElementById("custom_sus_path"),d=document.getElementById("save_sus_path");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${a}/sus_path.txt`)}),d.addEventListener("click",async()=>{var i=s.value;i==""?n("please press load first!"):(await t(`echo '${i}' > ${a}/sus_path.txt`),n("Custom SUS PATH saved!"),n("Reboot to take effect"))})}async function ge(){const e=document.getElementById("load_sus_mount"),s=document.getElementById("custom_sus_mount"),d=document.getElementById("save_sus_mount");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${a}/sus_mount.txt`)}),d.addEventListener("click",async()=>{var i=s.value;i==""?n("please press load first!"):(await t(`echo '${i}' > ${a}/sus_mount.txt`),n("Custom SUS MOUNT saved!"),n("Reboot to take effect"))})}async function pe(){const e=document.getElementById("load_try_umount"),s=document.getElementById("custom_try_umount"),d=document.getElementById("save_try_umount"),i=document.querySelector("main");e.addEventListener("click",async()=>{s.innerHTML=await t(`cat ${a}/try_umount.txt`)}),d.addEventListener("click",async()=>{var c=s.value;c==""?n("please press load first!"):(await t(`echo '${c}' > ${a}/try_umount.txt`),n("Custom SUS MOUNT saved!"),n("Reboot to take effect"))}),s.addEventListener("focus",()=>{i.style.paddingBottom="300px",s.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}),s.addEventListener("blur",()=>{B.to(i,{duration:.5,paddingBottom:"0px",ease:"power1.out"})})}P(w);U(w);
